<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<title>Explain Git with D3</title>
<script data-main="js/main" src="http://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.4/require.min.js"></script>
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/normalize/2.1.0/normalize.css">
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/1140/2.0/1140.css">
<link rel="stylesheet" href="css/explaingit.css">
</head>
<body>
<div class="container">
  <div class="row intro">
    <div class="twelvecol">
      <h1>Visualizing Git Concepts with D3</h1>
      <p>
        This website is designed to help you understand some basic git concepts visually.
        This is my first attempt at using both SVG and D3. I hope it is helpful to you.
      </p>
      <p>
        Adding/staging your files for commit will not be covered by this site. In all sandbox playgrounds
        on this site, just pretend that you always have files staged and ready to commit at all times.
        If you need a refresher on how to add or stage files for commit, please read
        <a href="http://git-scm.com/book/en/Git-Basics-Recording-Changes-to-the-Repository">Git Basics</a>.
      </p>
      <p>
        Sandboxes are split by specific git commands, listed below.
      </p>
    </div>
  </div>
  <div class="row command-list">
    <div class="twocol">
      <h4>Basic Commands</h3>
      <a id="open-commit" class="openswitch" href="#">git commit</a>
      <a id="open-branch" class="openswitch" href="#">git branch</a>
    </div>
    <div class="twocol">
      <h4>&nbsp;</h4>
      <a id="open-checkout" class="openswitch" href="#">git checkout</a>
      <a id="open-checkout-b" class="openswitch" href="#">git checkout -b</a>
    </div>
    <div class="twocol">
      <h4>Undo/Delete</h4>
      <a id="open-reset" class="openswitch" href="#">git reset</a>
      <a id="open-branch-d" class="openswitch" href="#">git branch -d</a>
    </div>
    <div class="twocol">
      <h4>Combine Branches</h4>
      <a id="open-merge" class="openswitch" href="#">git merge</a>
      <a id="open-rebase" class="openswitch" href="#">git rebase</a>
    </div>
    <div class="twocol">
      <h4>Remote Server</h4>
      <a id="open-fetch" class="openswitch" href="#">git fetch</a>
      <a id="open-pull" class="openswitch" href="#">git pull</a>
    </div>
    <div>
      <h4>Free Play</h4>
      <a id="open-freeplay" class="openswitch" href="#">Free Playground</a>
    </div>
  </div>
  <div class="row">
    <div id="ExplainGitCommit-Container" class="twelvecol concept-container">
      <p>
        We are going to skip instructing you on how to add your files for commit in this explanation.
        Let's assume you already know how to do that. If you don't, go read some other tutorials.
      </p>
      <p>
        Pretend that you already have your files staged for commit and enter <span class="cmd">git commit</span>
		as many times as you like in the terminal box.
      </p>
      <div class="playground-container"></div>
    </div>
    <div id="ExplainGitBranch-Container" class="twelvecol concept-container">
      <p>
        Creating branches just creates a new tag pointing to the currently checked out commit.
      </p>
      <p>
        Type <span class="cmd">git commit</span> and <span class="cmd">git branch</span> commands
        to your hearts desire until you understand this concept.
      </p>
      <div class="playground-container"></div>
    </div>
    <div id="ExplainGitCheckout-Container" class="twelvecol concept-container">
      <p>
        <span class="cmd">git checkout</span> has many uses,
        but the main one is to switch between branches.</br>
        For example, to switch from master branch to dev branch,
        I would type <span class="cmd">git checkout dev</span>.
        After that, if I do a git commit, notice where it goes. Try it.
      </p>
      <p>
        In addition to checking out branches, you can also checkout individual commits. Try it.</br>
        Make a new commit and then type <span class="cmd">git checkout bb92e0e</span>
        and see what happens.
      </p>
      <p>
        Type <span class="cmd">git commit</span>, <span class="cmd">git branch</span>,
        and <span class="cmd">git checkout</span> commands to your hearts desire
		until you understand this concept.
      </p>
      <div class="playground-container"></div>
    </div>
    <div id="ExplainGitCheckout-b-Container" class="twelvecol concept-container">
      <p>
        You can combine <span class="cmd">git branch</span> and <span class="cmd">git checkout</span>
        into a single command by typing <span class="cmd">git checkout -b branchname</span>.
        This will create the branch if it does not already exist and immediately check it out.
      </p>
      <div class="playground-container"></div>
    </div>
    <div id="ExplainGitReset-Container" class="twelvecol concept-container">
      <p>
        <span class="cmd">git reset</span> will move HEAD and the current branch back to wherever
        you specify, abandoning any commits that may be left behind. This is useful to undo a commit
        that you no longer need.
      </p>
      <p>
        This command is normally used with one of three flags: "--soft", "--mixed", and "--hard".
        The soft and mixed flags deal with what to do with the work that was inside the commit after
        you reset, and you can read about it <a href="http://git-scm.com/2011/07/11/reset.html">here</a>.
        Since this visualization cannot graphically display that work, only the "--hard" flag will work
        on this site.
      </p>
      <p>
        Note that you must <b>never</b> use <span class="cmd">git reset</span> to abandon commits
        that have already been pushed and merged into the origin. This can cause your local repository
        to become out of sync with the origin. Don't do it unless you really know what you're doing.
      </p>
      <p>
        One simple example of the use of this command is to completely restore your local repository
        state to that of the origin.</br>
        You can do so by typing <span class="cmd">git reset origin/master</span>.</br>
        Note that this won't delete untracked files, you will have to delete those separately with
        the command <span class="cmd">git clean -df</span>.
      </p>
      <div class="playground-container"></div>
    </div>
    <div id="ExplainGitBranch-d-Container" class="twelvecol concept-container">
      <p>
        <span class="cmd">git branch -d</span> is used to delete branches.
        I have pre-created a bunch of branches for you to delete in the playground below.
        Have at it.
      </p>
      <div class="playground-container"></div>
    </div>
    <div id="ExplainGitMerge-Container" class="twelvecol concept-container">
      <p>
        <span class="cmd">git merge</span> will create a new commit with two parents. The resulting
        commit snapshot will have the all of the work that has been done in both branches.
      </p>
      <p>
        If there was no divergence between the two commits, git will do a "fast-forward" method merge.</br>
        To see this happen, checkout the 'ff' branch and then type <span class="cmd">git merge dev</span>.
      </p>
      <div class="playground-container"></div>
    </div>
    <div id="ExplainGitRebase-Container" class="twelvecol concept-container">
      <p>
        <span class="cmd">git rebase</span> will take the commits on this branch and "move" them so that their
        new "base" is at the point you specify.
      </p>
      <p>
        You should pay close attention to the commit IDs of the circles as they move when you do this exercise.
      </p>
      <p>
        The reason I put "move" in quotations because this process actually generates brand new commits with 
        completely different IDs than the old commits, and leaves the old commits where they were. For this reason,
        you never want to rebase commits that have already been shared with the team you are working with.
      </p>
      <div class="playground-container"></div>
    </div>
    <div id="ExplainGitFetch-Container" class="twelvecol concept-container">
      <p>
        <span class="cmd">git fetch</span> will update all of the "remote tracking branches" in your local repository.
        Remote tracking branches are tagged in grey.
      </p>
      <div class="playground-container"></div>
    </div>
    <div id="ExplainGitPull-Container" class="twelvecol concept-container">
      <p>
        A <span class="cmd">git pull</span> is a two step process that first does a <span class="cmd">git fetch</span>,
        and then does a <span class="cmd">git merge</span> of the remote tracking branch associated with your current branch.
        If you have no current branch, the process will stop after fetching.
      </p>
      <p>
        If the argument "--rebase" was given by typing <span class="cmd">git pull --rebase</span>, the second step of
        pull process will be a rebase instead of a merge. This can be set to the default behavior by configuration by typing:
        <span class="cmd">git config branch.BRANCHNAME.rebase true</span>.
      </p>
      <div class="playground-container"></div>
    </div>
    <div id="ExplainGitFree-Container" class="twelvecol concept-container">
      <p>
        Do whatever you want in this free playground.
      </p>
      <div class="playground-container"></div>
    </div>
  </div>
</div>

<svg version="1.1" baseProfile="full"
     xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     xmlns:ev="http://www.w3.org/2001/xml-events"
     width="0" height="0">
    
    <marker id="triangle" refX="5" refY="5" markerUnits="strokeWidth" fill="#666"
            markerWidth="4" markerHeight="3" orient="auto" viewBox="0 0 10 10">
        <path d="M 0 0 L 10 5 L 0 10 z"/>
    </marker>
    <marker id="faded-triangle" refX="5" refY="5" markerUnits="strokeWidth" fill="#DDD"
            markerWidth="4" markerHeight="3" orient="auto" viewBox="0 0 10 10">
        <path d="M 0 0 L 10 5 L 0 10 z"/>
    </marker>
    <marker id="brown-triangle" refX="5" refY="5" markerUnits="strokeWidth" fill="#663300"
            markerWidth="4" markerHeight="3" orient="auto" viewBox="0 0 10 10">
        <path d="M 0 0 L 10 5 L 0 10 z"/>
    </marker>
</svg>

<script type="text/javascript">
require(['explaingit'], function (explainGit) {
    var openSwitch = document.getElementById('open-commit'),
		open;

    open = function () {
		explainGit.reset();
        this.classList.add('selected');

		explainGit.open({
			name: 'Commit',
			height: 200,
            baseLine: 0.4,
			commitData: [
				{id: 'e137e9b', tags: ['master']}
			],
			initialMessage: 'Type git commit a few times.'
		});
    };

    openSwitch.addEventListener('click', open, false);
});
</script>

<script type="text/javascript">
require(['explaingit'], function (explainGit) {
	var openSwitch = document.getElementById('open-branch'),
		open;

    open = function () {
		explainGit.reset();
        this.classList.add('selected');

		explainGit.open({
			name: 'Branch',
            baseLine: 0.6,
			commitData: [
				{id: 'e137e9b', tags: ['master']}
			]
		});
    };

    openSwitch.addEventListener('click', open, false);
});
</script>

<script type="text/javascript">
require(['explaingit'], function (explainGit) {
    var openSwitch = document.getElementById('open-checkout'),
		open;

    open = function () {
		explainGit.reset();
        this.classList.add('selected');

		explainGit.open({
			name: 'Checkout',
			height: 500,
			commitData: [
				{id: 'e137e9b'},
				{id: 'bb92e0e', parent: 'e137e9b', tags: ['master']},
				{id: 'e088135', parent: 'e137e9b', tags: ['dev']}
			],
			initialMessage:
				'Use git checkout, git branch, and git commit commands until you understand.'
		});
    };

    openSwitch.addEventListener('click', open, false);
});
</script>

<script type="text/javascript">
require(['explaingit'], function (explainGit) {
    var openSwitch = document.getElementById('open-checkout-b'),
		open;

    open = function () {
		explainGit.reset();
        this.classList.add('selected');

		explainGit.open({
			name: 'Checkout-b',
			height: 500,
			commitData: [
				{id: 'e137e9b'},
				{id: 'f5b32c8', parent: 'e137e9b'},
				{id: 'bb92e0e', parent: 'f5b32c8', tags: ['master']},
				{id: 'e088135', parent: 'e137e9b', tags: ['dev']}
			],
			initialMessage:
				'Use git checkout -b and git commit commands until you understand.'
		});
    };

    openSwitch.addEventListener('click', open, false);
});
</script>

<script type="text/javascript">
require(['explaingit'], function (explainGit) {
    var openSwitch = document.getElementById('open-reset'),
		open;

    open = function () {
		explainGit.reset();
        this.classList.add('selected');

		explainGit.open({
			name: 'Reset',
			height: 200,
            baseLine: 0.4,
			commitData: [
				{id: 'e137e9b', tags: ['origin/master']},
                {id: '0e70093', parent: 'e137e9b'},
                {id: '3e33afd', parent: '0e70093', tags: ['master']}
			],
			initialMessage: 'Type "git reset origin/master".'
		});
    };

    openSwitch.addEventListener('click', open, false);
});
</script>

<script type="text/javascript">
require(['explaingit'], function (explainGit) {
    var openSwitch = document.getElementById('open-branch-d'),
		open;

    open = function () {
		explainGit.reset();
        this.classList.add('selected');

		explainGit.open({
			name: 'Branch-d',
			height: 500,
            baseLine: 0.6,
			commitData: [
				{id: 'e137e9b'},
				{id: 'bb92e0e', parent: 'e137e9b'},
                {id: 'd25ee9b', parent: 'bb92e0e', tags: ['master']},
                {id: '071ff28', parent: 'e137e9b', tags: ['protoss']},
                {id: 'f5b32c8', parent: 'bb92e0e'},
				{id: 'e088135', parent: 'f5b32c8', tags: ['zerg']},
                {id: '9e6c322', parent: 'bb92e0e'},
                {id: '593ae02', parent: '9e6c322', tags: ['terran']}
			],
            currentBranch: 'terran',
			initialMessage:
				'Delete some branches.'
		});
    };

    openSwitch.addEventListener('click', open, false);
});
</script>

<script type="text/javascript">
require(['explaingit'], function (explainGit) {
    var openSwitch = document.getElementById('open-merge'),
		open;

    open = function () {
		explainGit.reset();
        this.classList.add('selected');

		explainGit.open({
			name: 'Merge',
			height: 500,
			commitData: [
				{id: 'e137e9b'},
				{id: 'bb92e0e', parent: 'e137e9b', tags: ['master']},
                {id: 'f5b32c8', parent: 'e137e9b', tags: ['ff']},
				{id: 'e088135', parent: 'f5b32c8', tags: ['dev']}
			],
			initialMessage:
				'Type "git merge dev".'
		});
    };

    openSwitch.addEventListener('click', open, false);
});
</script>

<script type="text/javascript">
require(['explaingit'], function (explainGit) {
    var openSwitch = document.getElementById('open-rebase'),
		open;

    open = function () {
		explainGit.reset();
        this.classList.add('selected');

		explainGit.open({
			name: 'Rebase',
			height: 500,
			commitData: [
				{id: 'e137e9b'},
				{id: 'bb92e0e', parent: 'e137e9b', tags: ['master']},
                {id: 'f5b32c8', parent: 'e137e9b'},
				{id: 'e088135', parent: 'f5b32c8', tags: ['dev']}
			],
            currentBranch: 'dev',
			initialMessage:
				'Type "git rebase master".'
		});
    };

    openSwitch.addEventListener('click', open, false);
});
</script>

<script type="text/javascript">
require(['explaingit'], function (explainGit) {
    var openSwitch = document.getElementById('open-fetch'),
		open;

    open = function () {
		explainGit.reset();
        this.classList.add('selected');

		explainGit.open({
			name: 'Fetch',
			height: 500,
			commitData: [
				{id: 'e137e9b', tags: ['origin/master']},
                {id: '6ce726f', parent: 'e137e9b'},
				{id: 'bb92e0e', parent: '6ce726f', tags: ['master']},
                {id: '0cff760', parent: 'e137e9b', tags: ['origin/dev']},
                {id: '4ed301d', parent: '0cff760', tags: ['dev']}
			],
            originData: [
                {id: 'e137e9b'},
                {id: '7eb7654', parent: 'e137e9b'},
				{id: '090e2b8', parent: '7eb7654'},
                {id: 'ee5df4b', parent: '090e2b8', tags: ['master']},
                {id: '0cff760', parent: 'e137e9b'},
                {id: '2f8d946', parent: '0cff760'},
                {id: '29235ca', parent: '2f8d946', tags: ['dev']}
            ],
			initialMessage:
				'Carefully compare the commit IDs between the origin and the local repository. ' + 
                'Then type "git fetch".'
		});
    };

    openSwitch.addEventListener('click', open, false);
});
</script>

<script type="text/javascript">
require(['explaingit'], function (explainGit) {
    var openSwitch = document.getElementById('open-pull'),
		open;

    open = function () {
		explainGit.reset();
        this.classList.add('selected');

		explainGit.open({
			name: 'Pull',
			height: 500,
			commitData: [
				{id: 'e137e9b', tags: ['origin/master']},
                {id: '46d095b', parent: 'e137e9b', tags: ['master']}
			],
            originData: [
                {id: 'e137e9b'},
                {id: '7eb7654', parent: 'e137e9b'},
				{id: '090e2b8', parent: '7eb7654'},
                {id: 'ee5df4b', parent: '090e2b8', tags: ['master']}
            ],
			initialMessage:
				'Carefully compare the commit IDs between the origin and the local repository. ' + 
                'Then type "git pull".'
		});
    };

    openSwitch.addEventListener('click', open, false);
});
</script>

<script type="text/javascript">
require(['explaingit'], function (explainGit) {
    var openSwitch = document.getElementById('open-freeplay'),
		open;

    open = function () {
		explainGit.reset();
        this.classList.add('selected');

		explainGit.open({
			name: 'Free',
			height: 500,
			commitData: [
				{id: 'e137e9b', tags: ['origin/master', 'master']}
			],
            originData: [
                {id: 'e137e9b'},
                {id: '7eb7654', parent: 'e137e9b'},
				{id: '090e2b8', parent: '7eb7654'},
                {id: 'ee5df4b', parent: '090e2b8', tags: ['master']}
            ],
			initialMessage:
				'Have fun.'
		});
    };

    openSwitch.addEventListener('click', open, false);
});
</script>
</body>
</html>